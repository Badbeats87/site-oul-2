<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Admin Console - Vinyl Catalog</title>
    <link rel="stylesheet" href="../../styles/design-system.css">
    <link rel="stylesheet" href="../../styles/admin.css">
    <style>
        html { overflow-y: auto !important; height: auto !important; }
        body { overflow-y: auto !important; min-height: auto !important; }
        main.page-content { overflow-y: auto !important; display: block !important; }
        .container { overflow: visible !important; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="navbar__container">
            <a href="../index.html" class="navbar__logo">
                <svg class="navbar__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="12" cy="12" r="10"></circle>
                    <circle cx="12" cy="12" r="6"></circle>
                    <circle cx="12" cy="12" r="3"></circle>
                </svg>
                <span>Vinyl Catalog</span>
            </a>
            <div class="navbar__links">
                <a href="../index.html" class="nav-link">Back to Site</a>
                <span class="nav-link">Admin</span>
                <button class="nav-link button button--sm button--secondary" data-logout-btn>Logout</button>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="page-header">
        <div class="container">
            <h1>Admin Console</h1>
            <p>Manage submissions, inventory, and pricing</p>
        </div>
    </header>

    <!-- Main Navigation -->
    <div class="admin-nav">
        <div class="container">
            <nav class="admin-nav__links">
                <a href="index.html" class="admin-nav__link admin-nav__link--active" data-nav-submissions>Submissions</a>
                <a href="inventory.html" class="admin-nav__link" data-nav-inventory>Inventory</a>
                <a href="pricing-seller.html" class="admin-nav__link" data-nav-pricing-seller>Pricing (Seller)</a>
                <a href="pricing-buyer.html" class="admin-nav__link" data-nav-pricing-buyer>Pricing (Buyer)</a>
                <a href="settings.html" class="admin-nav__link" data-nav-settings>Settings</a>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <main class="page-content">
        <div class="container">
            <!-- Submissions Section -->
            <section data-submissions-container>
                <div class="section-header">
                    <h2>Submission Queue</h2>
                    <div class="section-actions">
                        <input
                            type="text"
                            placeholder="Search submissions..."
                            class="search-input"
                            data-submissions-search
                        >
                        <select class="filter-select" data-submissions-status-filter>
                            <option value="all">All Status</option>
                            <option value="PENDING_REVIEW">Pending Review</option>
                            <option value="COUNTER_OFFERED">Counter Offered</option>
                            <option value="PARTIALLY_ACCEPTED">Partially Accepted</option>
                            <option value="ACCEPTED">Accepted</option>
                            <option value="REJECTED">Rejected</option>
                        </select>
                    </div>
                </div>

                <div class="submissions-list">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Submission</th>
                                <th>Seller</th>
                                <th>Items</th>
                                <th>Value</th>
                                <th>Status</th>
                                <th>Submitted</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody data-submissions-tbody>
                            <tr>
                                <td colspan="7" style="text-align: center; padding: 40px;">Loading...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__section">
                    <h4>Vinyl Catalog</h4>
                    <p>Admin console for catalog management</p>
                </div>
                <div class="footer__section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="../seller/index.html">Sell Records</a></li>
                        <li><a href="../buyer/index.html">Buy Records</a></li>
                        <li><a href="../index.html">Home</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__bottom">
                <p>&copy; 2024 Vinyl Catalog. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="../../js/api-client.js"></script>
    <script src="../../js/auth.js"></script>
    <script src="../../js/submissions.js"></script>
    <script>
        // Initialize submissions manager when page loads
        document.addEventListener('DOMContentLoaded', async function() {
            await submissionsManager.initialize();
        });
    </script>
</body>
</html>
