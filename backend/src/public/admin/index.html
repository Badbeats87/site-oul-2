<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Console - Vinyl Catalog</title>
    <link rel="stylesheet" href="../../styles/design-system.css?v=20251203">
    <link rel="stylesheet" href="../../styles/admin.css?v=20251203">
</head>
<body class="admin-body">
    <div class="admin-shell">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="admin-sidebar__brand">
                <span class="admin-sidebar__logo">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.5" width="26" height="26" aria-hidden="true">
                        <circle cx="12" cy="12" r="10"></circle>
                        <circle cx="12" cy="12" r="6"></circle>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                </span>
                <div>
                    <div class="admin-sidebar__title">Vinyl Catalog</div>
                    <div class="admin-sidebar__subtitle">Operations Console</div>
                </div>
            </div>

            <div class="admin-sidebar__user">
                <div class="admin-avatar" aria-hidden="true">AM</div>
                <div class="admin-sidebar__meta">
                    <span class="eyebrow" style="color: rgba(243,244,246,0.7);">On Duty â€¢ Super Admin</span>
                    <strong>Alex Mercer</strong>
                    <span>Authenticated 2m ago Â· SSO trusted</span>
                </div>
                <button class="button button--secondary button--sm" type="button">Start Review Session</button>
            </div>

            <nav class="admin-nav" aria-label="Admin navigation">
                <p class="admin-nav__label">Overview</p>
                <a class="admin-nav__link admin-nav__link--active" href="index.html">
                    <span class="admin-nav__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" aria-hidden="true">
                            <rect x="3" y="3" width="8" height="8" rx="2"></rect>
                            <rect x="13" y="3" width="8" height="5" rx="2"></rect>
                            <rect x="13" y="10" width="8" height="11" rx="2"></rect>
                            <rect x="3" y="13" width="8" height="8" rx="2"></rect>
                        </svg>
                    </span>
                    <div class="admin-nav__details">
                        <strong>Command Center</strong>
                        <span>Dashboard + Health</span>
                    </div>
                    <span class="admin-nav__badge">Live</span>
                </a>
                <a class="admin-nav__link" href="#submissions">
                    <span class="admin-nav__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" aria-hidden="true">
                            <path d="M6 2h11l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"></path>
                            <line x1="13" y1="2" x2="13" y2="9"></line>
                            <line x1="8" y1="13" x2="16" y2="13"></line>
                            <line x1="8" y1="17" x2="16" y2="17"></line>
                        </svg>
                    </span>
                    <div class="admin-nav__details">
                        <strong>Submissions</strong>
                        <span>Queue + Communications</span>
                    </div>
                </a>
                <a class="admin-nav__link" href="inventory.html">
                    <span class="admin-nav__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" aria-hidden="true">
                            <path d="M3 7l9-4 9 4"></path>
                            <path d="M4 7v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7"></path>
                            <path d="M12 22V7"></path>
                        </svg>
                    </span>
                    <div class="admin-nav__details">
                        <strong>Inventory</strong>
                        <span>Catalog + QA</span>
                    </div>
                </a>
                <a class="admin-nav__link" href="pricing-editor.html">
                    <span class="admin-nav__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" aria-hidden="true">
                            <path d="M20 12v6a2 2 0 0 1-2 2H6l-4-4V6a2 2 0 0 1 2-2h6"></path>
                            <path d="M8 8h8"></path>
                            <path d="M8 12h6"></path>
                            <path d="M15 2l7 7"></path>
                            <path d="M15 9h7V2"></path>
                        </svg>
                    </span>
                    <div class="admin-nav__details">
                        <strong>Pricing</strong>
                        <span>Policies + Guardrails</span>
                    </div>
                </a>
                <a class="admin-nav__link" href="#analytics">
                    <span class="admin-nav__icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" aria-hidden="true">
                            <path d="M3 12h3l3 8 4-16 3 8h5"></path>
                        </svg>
                    </span>
                    <div class="admin-nav__details">
                        <strong>Analytics</strong>
                        <span>Forecasting</span>
                    </div>
                </a>
            </nav>

            <hr class="admin-sidebar__divider">
            <div class="admin-sidebar__footer">
                Data synced <strong>34s ago</strong> Â· Discogs + eBay APIs healthy Â· SLA alerting enabled for Ops bridge.
            </div>
        </aside>

        <!-- Main Content -->
        <div class="admin-main">
            <header class="admin-toolbar">
                <div class="admin-toolbar__context">
                    <p class="eyebrow">Admin Control Room</p>
                    <h1>Vinyl Catalog Command Center</h1>
                    <p>Monitor submissions, unblock pricing changes, and keep the resale engine humming.</p>
                </div>
                <div class="admin-toolbar__actions">
                    <label class="toolbar-search" aria-label="Search admin data">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <circle cx="11" cy="11" r="7"></circle>
                            <line x1="16.5" y1="16.5" x2="21" y2="21"></line>
                        </svg>
                        <input type="search" placeholder="Search records, sellers, SKUsâ€¦" aria-label="Search">
                    </label>
                    <a class="button button--secondary button--sm" href="../seller/index.html">Invite Seller</a>
                    <button class="button button--danger button--sm" data-logout-btn type="button">Logout</button>
                </div>
            </header>

            <section class="admin-hero">
                <div>
                    <p class="eyebrow">Live status</p>
                    <h2>Operations command center</h2>
                    <p>Connected marketplaces, policy engines, and intake queues are synced every 60 seconds.</p>
                    <div class="admin-hero__meta">
                        <div class="admin-hero__stat">
                            <span>Connected Marketplaces</span>
                            <strong>2 / 2 healthy</strong>
                        </div>
                        <div class="admin-hero__stat">
                            <span>Average SLA</span>
                            <strong>43m to decision</strong>
                        </div>
                        <div class="admin-hero__stat">
                            <span>Escalations</span>
                            <strong>3 waiting</strong>
                        </div>
                    </div>
                </div>
                <div class="admin-hero__card">
                    <p class="eyebrow">What's happening</p>
                    <h3>Queues nominal, pricing audit scheduled</h3>
                    <p>Inventory refresh completed 12 minutes ago. Next policy recalculation queued for 5:00pm.</p>
                    <div class="admin-hero__badges">
                        <span class="admin-hero__badge">12 pending reviews</span>
                        <span class="admin-hero__badge">8 low-stock alerts</span>
                        <span class="admin-hero__badge">4 offers expiring today</span>
                    </div>
                    <a href="#submissions" class="button button--primary button--sm">Jump to submissions</a>
                </div>
            </section>

            <section class="dashboard-stats">
                <article class="stat-card">
                    <div class="stat-card__icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" width="22" height="22">
                            <circle cx="12" cy="12" r="9"></circle>
                            <path d="M12 7v5l3 3"></path>
                        </svg>
                    </div>
                    <div class="stat-card__label">Submission queue</div>
                    <div class="stat-card__value">34</div>
                    <div class="stat-card__meta">
                        <span class="stat-card__trend stat-card__trend--up">+6 new</span>
                        since 9am
                    </div>
                </article>
                <article class="stat-card">
                    <div class="stat-card__icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" width="22" height="22">
                            <path d="M4 4h16v16H4z"></path>
                            <path d="M4 10h16"></path>
                            <path d="M10 4v16"></path>
                        </svg>
                    </div>
                    <div class="stat-card__label">Inventory health</div>
                    <div class="stat-card__value">1,284</div>
                    <div class="stat-card__meta">
                        <span class="stat-card__trend stat-card__trend--up">96% ready</span>
                        to list
                    </div>
                </article>
                <article class="stat-card">
                    <div class="stat-card__icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" width="22" height="22">
                            <polyline points="4 14 9 9 13 13 20 6"></polyline>
                            <polyline points="14 6 20 6 20 12"></polyline>
                        </svg>
                    </div>
                    <div class="stat-card__label">Sell-through</div>
                    <div class="stat-card__value">$38.2K</div>
                    <div class="stat-card__meta">
                        <span class="stat-card__trend stat-card__trend--up">+12%</span>
                        vs. last week
                    </div>
                </article>
                <article class="stat-card">
                    <div class="stat-card__icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" width="22" height="22">
                            <path d="M4 4h16v16H4z"></path>
                            <path d="M4 9h16"></path>
                            <path d="M9 4v5"></path>
                        </svg>
                    </div>
                    <div class="stat-card__label">Counter offers</div>
                    <div class="stat-card__value stat-card__value--warning">5</div>
                    <div class="stat-card__meta">
                        <span class="stat-card__trend stat-card__trend--down">-2 resolved</span>
                        awaiting reply
                    </div>
                </article>
            </section>

            <div class="admin-content-grid">
                <section class="admin-panel admin-panel--xl" id="submissions">
                    <div class="panel-header">
                        <div>
                            <p class="eyebrow">Workstreams</p>
                            <h2 class="panel-title">Queues &amp; intelligence</h2>
                            <p class="panel-subtitle">Live data aggregated every 60 seconds.</p>
                        </div>
                        <div class="panel-header__actions">
                            <button class="button button--secondary button--sm" type="button" onclick="submissionsManager.initialize()">â†» Refresh Data</button>
                            <button class="button button--primary button--sm" type="button">Export Snapshot</button>
                        </div>
                    </div>
                    <div class="tab-header" role="tablist" aria-label="Admin datasets">
                        <button class="tab-btn tab-btn--active" role="tab" aria-selected="true" aria-controls="panel-submissions" id="tab-submissions">
                            Submissions
                        </button>
                        <button class="tab-btn" role="tab" aria-selected="false" aria-controls="panel-inventory" id="tab-inventory">
                            Inventory
                        </button>
                        <button class="tab-btn" role="tab" aria-selected="false" aria-controls="panel-analytics" id="tab-analytics">
                            Analytics
                        </button>
                    </div>

                    <!-- Submissions -->
                    <section class="tab-panel tab-panel--active" id="panel-submissions" role="tabpanel" aria-labelledby="tab-submissions" data-submissions-container>
                        <div class="section-header">
                            <div>
                                <h2>Submission Queue</h2>
                                <p class="text-muted">Review submissions, counter offers, and acceptance states.</p>
                            </div>
                            <div class="section-actions">
                                <input type="text" class="search-input" placeholder="Search submissionsâ€¦" data-submissions-search aria-label="Search submissions">
                                <select class="filter-select" data-submissions-status-filter aria-label="Filter status">
                                    <option value="all">All Status</option>
                                    <option value="PENDING_REVIEW">Pending Review</option>
                                    <option value="COUNTER_OFFERED">Counter Offered</option>
                                    <option value="PARTIALLY_ACCEPTED">Partially Accepted</option>
                                    <option value="ACCEPTED">Accepted</option>
                                    <option value="REJECTED">Rejected</option>
                                </select>
                            </div>
                        </div>
                        <div class="table-scroller submissions-list">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Submission</th>
                                        <th>Seller</th>
                                        <th>Items</th>
                                        <th>Value</th>
                                        <th>Status</th>
                                        <th>Submitted</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody data-submissions-tbody>
                                    <tr>
                                        <td colspan="7" class="empty-state">
                                            <div class="empty-state-icon">âŒ›</div>
                                            <div class="empty-state-title">Loading submissionsâ€¦</div>
                                            <p>Please hold while we sync with the intake API.</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <!-- Inventory -->
                    <section class="tab-panel" id="panel-inventory" role="tabpanel" aria-labelledby="tab-inventory" data-inventory-container hidden>
                        <div class="section-header">
                            <div>
                                <h2>Inventory Management</h2>
                                <p class="text-muted">Search, filter and update SKUs in one view.</p>
                            </div>
                            <div class="section-actions inventory-filter-grid">
                                <input type="text" class="search-input" placeholder="Search by album, artist, or SKUâ€¦" data-inventory-search>
                                <select class="filter-select" data-inventory-status-filter>
                                    <option value="all">All Statuses</option>
                                    <option value="LIVE">Live</option>
                                    <option value="RESERVED">Reserved</option>
                                    <option value="SOLD">Sold</option>
                                    <option value="DRAFT">Draft</option>
                                </select>
                                <select class="filter-select" data-inventory-condition-filter>
                                    <option value="all">All Conditions</option>
                                    <option value="MINT">M / Mint</option>
                                    <option value="NM">NM / Near Mint</option>
                                    <option value="VG_PLUS">VG+ / Very Good Plus</option>
                                    <option value="VG">VG / Very Good</option>
                                    <option value="VG_MINUS">VG- / Very Good Minus</option>
                                    <option value="G">G / Good</option>
                                </select>
                                <input type="number" class="filter-input" placeholder="Min $" data-inventory-min-price>
                                <input type="number" class="filter-input" placeholder="Max $" data-inventory-max-price>
                                <select class="filter-select" data-inventory-sort>
                                    <option value="createdAt:desc">Newest</option>
                                    <option value="createdAt:asc">Oldest</option>
                                    <option value="listPrice:desc">Highest Price</option>
                                    <option value="listPrice:asc">Lowest Price</option>
                                    <option value="soldAt:desc">Recently Sold</option>
                                </select>
                            </div>
                        </div>
                        <div class="table-scroller inventory-list condensed-table">
                            <table class="table inventory-table">
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Artist</th>
                                        <th>Label</th>
                                        <th>Catalog #</th>
                                        <th>Year</th>
                                        <th>Genre</th>
                                        <th>Variant / Notes</th>
                                        <th>SKU</th>
                                        <th>Channel</th>
                                        <th>Condition</th>
                                        <th>Status</th>
                                        <th>Cost</th>
                                        <th>List Price</th>
                                        <th>Sale Price</th>
                                        <th>Discogs</th>
                                        <th>Submission</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody data-inventory-tbody>
                                    <tr>
                                        <td colspan="17" class="empty-state">
                                            <div class="empty-state-icon">ðŸ“¦</div>
                                            <div class="empty-state-title">Loading inventoryâ€¦</div>
                                            <p>Fetching the latest catalog entries.</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <!-- Analytics -->
                    <section class="tab-panel" id="panel-analytics" role="tabpanel" aria-labelledby="tab-analytics" data-analytics-container hidden>
                        <div class="section-header">
                            <div>
                                <h2>Analytics &amp; Reports</h2>
                                <p class="text-muted">Market data, low stock alerts, and profitability.</p>
                            </div>
                        </div>
                        <div data-analytics-overview></div>
                        <div data-analytics-low-stock style="margin-top: 30px;"></div>
                        <div data-analytics-sales style="margin-top: 30px;"></div>
                    </section>
                </section>

                <aside class="admin-panel">
                    <p class="eyebrow">Quick actions</p>
                    <div class="quick-actions">
                        <a class="quick-action-card" href="submission.html">
                            <span class="quick-action-card__icon" aria-hidden="true">
                                <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M9 11h8"></path>
                                    <path d="M9 15h5"></path>
                                    <path d="M13 5l6 6"></path>
                                    <path d="M3 7a2 2 0 0 1 2-2h7l7 7v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                </svg>
                            </span>
                            <div>
                                <h3>Review Pending</h3>
                                <p>12 submissions are awaiting a response.</p>
                            </div>
                        </a>
                        <a class="quick-action-card" href="inventory.html">
                            <span class="quick-action-card__icon" aria-hidden="true">
                                <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M3 7l9-4 9 4"></path>
                                    <path d="M4 7v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7"></path>
                                    <path d="M12 22V7"></path>
                                </svg>
                            </span>
                            <div>
                                <h3>Low Stock</h3>
                                <p>8 items are below the desired floor.</p>
                            </div>
                        </a>
                        <a class="quick-action-card" href="pricing-editor.html">
                            <span class="quick-action-card__icon" aria-hidden="true">
                                <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="4" y1="21" x2="4" y2="14"></line>
                                    <line x1="10" y1="21" x2="10" y2="12"></line>
                                    <line x1="16" y1="21" x2="16" y2="10"></line>
                                    <line x1="22" y1="21" x2="22" y2="8"></line>
                                    <circle cx="4" cy="10" r="2"></circle>
                                    <circle cx="10" cy="8" r="2"></circle>
                                    <circle cx="16" cy="6" r="2"></circle>
                                    <circle cx="22" cy="4" r="2"></circle>
                                </svg>
                            </span>
                            <div>
                                <h3>Pricing Audit</h3>
                                <p>Policy updates scheduled for this evening.</p>
                            </div>
                        </a>
                        <a class="quick-action-card" href="#analytics">
                            <span class="quick-action-card__icon" aria-hidden="true">
                                <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="4" y1="19" x2="4" y2="11"></line>
                                    <line x1="10" y1="19" x2="10" y2="5"></line>
                                    <line x1="16" y1="19" x2="16" y2="8"></line>
                                    <line x1="22" y1="19" x2="22" y2="13"></line>
                                </svg>
                            </span>
                            <div>
                                <h3>Analytics Snapshot</h3>
                                <p>Monitor sell-through vs. plan.</p>
                            </div>
                        </a>
                    </div>

                    <hr style="margin: var(--space-xl) 0; border: none; border-top: 1px solid var(--color-border);">

                    <p class="eyebrow">Shift briefing</p>
                    <ul class="checklist">
                        <li>
                            <input type="checkbox" id="task1">
                            <label for="task1">
                                Confirm Discogs sync finished and error-free.
                            </label>
                        </li>
                        <li>
                            <input type="checkbox" id="task2">
                            <label for="task2">
                                Approve any offers older than 48 hours.
                            </label>
                        </li>
                        <li>
                            <input type="checkbox" id="task3">
                            <label for="task3">
                                Replenish warehouse bins flagged as low.
                            </label>
                        </li>
                    </ul>
                </aside>
            </div>

            <footer class="admin-footer">
                &copy; 2024 Vinyl Catalog â€” Secure admin session. Need help? Ping the ops channel.
            </footer>
        </div>
    </div>

    <!-- Inventory Edit Modal -->
    <div class="admin-modal" data-inventory-edit-modal role="dialog" aria-modal="true" aria-label="Edit inventory item">
        <div class="admin-modal__card">
            <div class="section-header" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-sm);">
                <div>
                    <h2>Edit Inventory Item</h2>
                    <p class="text-muted">Update metadata, pricing, or condition.</p>
                </div>
                <button class="button button--secondary button--sm" type="button" onclick="const modal=document.querySelector('[data-inventory-edit-modal]');if(modal){modal.classList.remove('is-visible');modal.style.display='none';}">Close</button>
            </div>
            <div data-inventory-edit-modal-body></div>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div class="loading-overlay" data-loading>
        <div class="loading-overlay__content">
            <div class="loading-spinner" aria-hidden="true"></div>
            <div>Syncing dataâ€¦</div>
        </div>
    </div>

    <script src="../../js/api-client.js?v=20251203"></script>
    <script src="../../js/auth.js?v=20251203"></script>
    <script src="../../js/submissions.js?v=20251203"></script>
    <script src="../../js/inventory.js?v=20251203"></script>
    <script src="../../js/analytics.js?v=20251203"></script>
    <script src="../../js/admin.js?v=20251203"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            await submissionsManager.initialize();
        });
    </script>
</body>
</html>
