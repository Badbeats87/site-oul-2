<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Console - Vinyl Catalog</title>
    <link rel="stylesheet" href="../../styles/design-system.css" />
    <link rel="stylesheet" href="../../styles/admin.css" />
    <link rel="stylesheet" href="../../styles/submissions.css" />
    <link rel="stylesheet" href="../../styles/inventory.css" />
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar">
      <div class="navbar__container">
        <a href="../index.html" class="navbar__logo">
          <svg
            class="navbar__icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
          >
            <circle cx="12" cy="12" r="10"></circle>
            <circle cx="12" cy="12" r="6"></circle>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
          <span>Vinyl Catalog</span>
        </a>
        <!-- Hamburger Menu Toggle -->
        <button
          class="navbar__menu-toggle"
          data-menu-toggle
          aria-label="Toggle navigation menu"
          aria-expanded="false"
          title="Toggle menu"
        >
          <span></span>
          <span></span>
          <span></span>
        </button>

        <div class="navbar__links" data-navbar-links>
          <a href="../index.html" class="nav-link">Back to Site</a>
          <span class="nav-separator">|</span>

          <!-- User Info -->
          <div class="user-info">
            <div class="user-info__avatar" data-user-avatar>A</div>
            <div class="user-info__details">
              <div class="user-info__name" data-user-name>Loading...</div>
              <div class="user-info__role" data-user-role>Admin</div>
            </div>
          </div>

          <!-- Logout Button -->
          <button
            class="nav-link button button--sm button--danger"
            data-logout-btn
            title="Logout from admin console"
            aria-label="Logout"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              style="width: 16px; height: 16px"
            >
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
              <polyline points="16 17 21 12 16 7"></polyline>
              <line x1="21" y1="12" x2="9" y2="12"></line>
            </svg>
            <span>Logout</span>
          </button>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="page-header">
      <div class="container">
        <h1>Admin Console</h1>
        <p>Manage submissions, inventory, and pricing</p>
      </div>
    </header>

    <!-- Main Content -->
    <main class="page-content">
      <div class="container">
        <!-- Breadcrumb -->
        <nav class="breadcrumb" aria-label="Breadcrumb">
          <ol class="breadcrumb-list">
            <li class="breadcrumb-item">
              <a href="../index.html">Vinyl Catalog</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
              Admin Console
            </li>
          </ol>
        </nav>

        <!-- Dashboard Stats -->
        <div class="dashboard-stats">
          <div class="stat-card">
            <div class="stat-card__label">Pending Submissions</div>
            <div class="stat-card__value">12</div>
            <div class="stat-card__meta">$2,450 value</div>
          </div>

          <div class="stat-card">
            <div class="stat-card__label">Live Inventory</div>
            <div class="stat-card__value">284</div>
            <div class="stat-card__meta">All on storefront</div>
          </div>

          <div class="stat-card">
            <div class="stat-card__label">Sold This Month</div>
            <div class="stat-card__value">156</div>
            <div class="stat-card__meta">$18,750 revenue</div>
          </div>

          <div class="stat-card">
            <div class="stat-card__label">Data Issues</div>
            <div class="stat-card__value stat-card__value--warning">3</div>
            <div class="stat-card__meta">Missing prices</div>
          </div>
        </div>

        <!-- Main Sections -->
        <div class="admin-tabs">
          <div class="tab-header" role="tablist" aria-label="Admin sections">
            <button
              class="tab-btn tab-btn--active"
              role="tab"
              aria-selected="true"
              aria-controls="submissions-panel"
              id="submissions-tab"
            >
              Submissions
            </button>
            <button
              class="tab-btn"
              role="tab"
              aria-selected="false"
              aria-controls="inventory-panel"
              id="inventory-tab"
            >
              Inventory
            </button>
            <button
              class="tab-btn"
              role="tab"
              aria-selected="false"
              aria-controls="analytics-panel"
              id="analytics-tab"
            >
              Analytics
            </button>
          </div>

          <!-- Submissions Tab -->
          <div
            class="tab-panel tab-panel--active"
            id="submissions-panel"
            role="tabpanel"
            aria-labelledby="submissions-tab"
            data-submissions-container
          >
            <div class="section-header">
              <h2>Submission Queue</h2>
              <div class="section-actions">
                <input
                  type="text"
                  placeholder="Search submissions..."
                  class="search-input"
                  data-submissions-search
                  style="width: 250px"
                />
                <select
                  class="filter-select"
                  data-submissions-status-filter
                  style="width: 150px"
                >
                  <option value="all">All Status</option>
                  <option value="PENDING_REVIEW">Pending Review</option>
                  <option value="ACCEPTED">Accepted</option>
                  <option value="REJECTED">Rejected</option>
                  <option value="PARTIALLY_ACCEPTED">Partially Accepted</option>
                </select>
              </div>
            </div>

            <div class="submissions-list">
              <table class="table">
                <thead>
                  <tr>
                    <th>Submission</th>
                    <th>Seller</th>
                    <th>Items</th>
                    <th>Value</th>
                    <th>Status</th>
                    <th>Submitted</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody data-submissions-tbody>
                  <tr>
                    <td colspan="7" style="text-align: center; padding: 40px">
                      Loading...
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Inventory Tab -->
          <div
            class="tab-panel"
            id="inventory-panel"
            role="tabpanel"
            aria-labelledby="inventory-tab"
            data-inventory-container
          >
            <div class="section-header">
              <h2>Inventory Management</h2>
              <div class="section-actions">
                <input
                  type="text"
                  placeholder="Search..."
                  class="search-input"
                  data-inventory-search
                  style="width: 250px"
                />
                <select
                  class="filter-select"
                  data-inventory-status-filter
                  style="width: 150px"
                >
                  <option value="all">All Status</option>
                  <option value="LIVE">LIVE</option>
                  <option value="SOLD">SOLD</option>
                  <option value="RESERVED">RESERVED</option>
                </select>
              </div>
            </div>

            <div class="inventory-list">
              <table class="table">
                <thead>
                  <tr>
                    <th>Record</th>
                    <th>Condition</th>
                    <th>Status</th>
                    <th>Cost</th>
                    <th>List Price</th>
                    <th>Margin</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody data-inventory-tbody>
                  <tr>
                    <td colspan="7" style="text-align: center; padding: 40px">
                      Loading...
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Analytics Tab -->
          <div
            class="tab-panel"
            id="analytics-panel"
            role="tabpanel"
            aria-labelledby="analytics-tab"
            data-analytics-container
          >
            <div class="section-header">
              <h2>Analytics & Reports</h2>
            </div>

            <div data-analytics-overview></div>
            <div data-analytics-low-stock style="margin-top: 30px"></div>
            <div data-analytics-sales style="margin-top: 30px"></div>
          </div>
        </div>

        <!-- Quick Actions -->
        <section class="quick-actions">
          <h2 class="section-title">Quick Actions</h2>
          <div class="actions-grid">
            <a href="#" class="action-card">
              <div class="action-card__icon">üìã</div>
              <h3>Review Pending</h3>
              <p>Review 12 pending submissions</p>
            </a>
            <a href="inventory.html" class="action-card">
              <div class="action-card__icon">üì¶</div>
              <h3>Low Stock</h3>
              <p>Check 8 items running low</p>
            </a>
            <a href="pricing-editor.html" class="action-card">
              <div class="action-card__icon">üí∞</div>
              <h3>Update Prices</h3>
              <p>Adjust pricing policies</p>
            </a>
            <a href="#" class="action-card">
              <div class="action-card__icon">üìä</div>
              <h3>Analytics</h3>
              <p>View sales reports</p>
            </a>
            <a href="settings.html" class="action-card">
              <div class="action-card__icon">‚öôÔ∏è</div>
              <h3>Settings</h3>
              <p>Configure system settings</p>
            </a>
          </div>
        </section>
      </div>
    </main>

    <!-- Submission Details Modal -->
    <div
      class="modal-backdrop"
      data-submission-details-modal
      style="display: none"
    >
      <div
        class="modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="submission-modal-title"
      >
        <div class="modal__header">
          <h2 id="submission-modal-title">Submission Details</h2>
          <button
            class="modal__close"
            aria-label="Close submission details"
            data-close-submission-modal
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <div class="modal__body" data-submission-details-body></div>
      </div>
    </div>

    <!-- Inventory Edit Modal -->
    <div class="modal-backdrop" data-inventory-edit-modal style="display: none">
      <div
        class="modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="inventory-modal-title"
      >
        <div class="modal__header">
          <h2 id="inventory-modal-title">Edit Inventory Item</h2>
          <button
            class="modal__close"
            aria-label="Close inventory editor"
            data-close-inventory-modal
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <div class="modal__body" data-inventory-edit-modal-body></div>
      </div>
    </div>

    <!-- Loading Indicator -->
    <div
      data-loading
      style="
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 20px 40px;
        border-radius: 8px;
        z-index: 2000;
      "
    >
      Loading...
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer__content">
          <div class="footer__section">
            <h4>Vinyl Catalog</h4>
            <p>Admin console for catalog management</p>
          </div>
          <div class="footer__section">
            <h4>Quick Links</h4>
            <ul>
              <li><a href="../seller/index.html">Sell Records</a></li>
              <li><a href="../buyer/index.html">Buy Records</a></li>
              <li><a href="../index.html">Home</a></li>
            </ul>
          </div>
        </div>
        <div class="footer__bottom">
          <p>&copy; 2024 Vinyl Catalog. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script src="../../js/mobile-nav.js"></script>
    <script src="../../js/active-states.js"></script>
    <script src="../../js/api-client.js"></script>
    <script src="../../js/auth.js"></script>
    <script src="../../js/dashboard-stats.js"></script>
    <script src="../../js/submissions.js"></script>
    <script src="../../js/inventory.js"></script>
    <script src="../../js/analytics.js"></script>
    <script src="../../js/admin.js"></script>
    <script>
      // Initialize submissions manager when page loads
      document.addEventListener('DOMContentLoaded', async function () {
        await submissionsManager.initialize();
      });
    </script>
  </body>
</html>
